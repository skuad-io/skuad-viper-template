//
//  ___FILENAME___
//  ___PROJECTNAME___
//
//  Created by ___FULLUSERNAME___ on ___DATE___.
//  Copyright (c) ___YEAR___ ___ORGANIZATIONNAME___. All rights reserved.
//

import Foundation
<% if @template.generate_io -%>
import RxSwift
import RxCocoa
<% end -%>

final class ___VARIABLE_moduleName___Presenter {

    // MARK: - Private properties -

    private unowned let view: ___VARIABLE_moduleName___ViewProtocol
<% if @complexity.generate_formatter -%>
    private let formatter: ___VARIABLE_moduleName___FormatterProtocol
<% end -%>
<% if @complexity.generate_interactor -%>
    private let interactor: ___VARIABLE_moduleName___InteractorProtocol
<% end -%>
    private let wireframe: ___VARIABLE_moduleName___WireframeProtocol

    // MARK: - Lifecycle -

    init(view: ___VARIABLE_moduleName___ViewProtocol, <%= @complexity.generate_formatter ? 'formatter: ___VARIABLE_moduleName___FormatterProtocol, ' : '' %><%= @complexity.generate_interactor ? 'interactor: ___VARIABLE_moduleName___InteractorProtocol, ' : '' %>wireframe: ___VARIABLE_moduleName___WireframeProtocol) {
        self.view = view
        <%- if @complexity.generate_formatter -%>
        self.formatter = formatter
        <%- end -%>
        <%- if @complexity.generate_interactor -%>
        self.interactor = interactor
        <%- end -%>
        self.wireframe = wireframe
    }
}

// MARK: - Extensions -

extension ___VARIABLE_moduleName___Presenter: ___VARIABLE_moduleName___PresenterProtocol {
    <%- if @template.generate_io -%>

    func configure(with output: ___VARIABLE_moduleName___.ViewOutput) -> ___VARIABLE_moduleName___.ViewInput {
        <%- if @complexity.generate_formatter -%>

        let formatterInput = ___VARIABLE_moduleName___.FormatterInput()

        let formatterOutput = formatter.format(for: formatterInput)

        <%- end -%>
        return ___VARIABLE_moduleName___.ViewInput(<%= @complexity.generate_formatter ? 'models: formatterOutput' : '' %>)
    }

    <%- end -%>
}
